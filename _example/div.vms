label begin
    push 30
    push 4
    call div
    pop
    push 0
    push 0
    je end
label end
    pop
    hlt

; A <- div(A, B)
label div
    ; Q <- 0
    push 0
label _div_for
    ; IF A < B
    load -4
    load -4
    jl _div_end
    ; Q <- Q + 1
    load -1
    push 1
    add
    store -2 -1
    pop
    ; A <- A - B
    load -4
    load -4
    sub
    store -5 -1
    pop
    push 0
    push 0
    je _div_for
label _div_end
    ; A <- Q
    store -4 -1
    pop
    ret
